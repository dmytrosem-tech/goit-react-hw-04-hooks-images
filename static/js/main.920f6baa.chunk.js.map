{"version":3,"sources":["Components/Searchbar/SearchBar.js","Servise/picturesApi.js","Components/Modal/Modal.js","App.js","index.js"],"names":["SearchBar","onSubmit","useState","inputValue","setInputValue","page","pictures","setPictures","status","setStatus","handleValueChange","e","currentTarget","value","toLowerCase","handleSubmit","preventDefault","baseApi","myApiKey","axios","get","then","r","data","hits","fetchPictures","picturesResponseArr","length","getPictures","catch","arr","console","log","newArr","map","picture","id","webformatURL","largeImageURL","className","type","style","marginRight","autoComplete","autoFocus","placeholder","onChange","modalRoot","document","querySelector","Component","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"8QAQe,SAASA,EAAT,GAAiC,EAAZC,SAAa,IAC/C,EAAoCC,mBAAS,IAA7C,mBAAOC,EAAP,KAAmBC,EAAnB,KACA,EAAwBF,mBAAS,GAAjC,mBAAOG,EAAP,KACA,GADA,KACgCH,mBAAS,KAAzC,mBAAOI,EAAP,KAAiBC,EAAjB,KACA,EAAgCL,mBAAS,IAAzC,mBACA,GADA,UACkCA,oBAAS,IAA3C,mBACA,GADA,UAC0BA,mBAAS,OAAnC,mBACA,GADA,UAC4BA,mBAAS,SAArC,mBAAOM,EAAP,KAAeC,EAAf,KAGMC,EAAoB,SAACC,GACzBP,EAAcO,EAAEC,cAAcC,MAAMC,gBAGhCC,EAAe,SAACJ,GACpBA,EAAEK,iBCrBC,SAAuBb,EAAYc,EAASC,EAAUb,GAC3D,OAAOc,IACJC,IADI,UAEAH,EAFA,cAEad,EAFb,iBAEgCE,EAFhC,gBAE4Ca,EAF5C,yDAIJG,MAAK,SAACC,GAAD,OAAOA,EAAEC,KAAKC,QDiBpBC,CAActB,EAnBF,2BACC,qCAkBgCE,GAC1CgB,MAAK,SAACK,GAEL,GAAmC,IAA/BA,EAAoBC,OACtB,OAAOlB,EAAU,YAEnBmB,EAAYF,MAGbL,KAAKZ,EAAU,aACfoB,OAAM,SAAClB,GAAD,OAAOF,EAAU,gBAEtBmB,EAAc,SAACE,GACnBC,QAAQC,IAAIF,GACZ,IAAMG,EAASH,EAAII,KAAI,SAACC,GACtB,MAAO,CACLC,GAAID,EAAQC,GACZC,aAAcF,EAAQE,aACtBC,cAAeH,EAAQG,kBAG3B/B,EAAY,GAAD,mBAAKD,GAAL,YAAkB2B,MAe/B,MAAe,SAAXzB,EAEA,wBAAQ+B,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAatC,SAAUc,EAAvC,UACE,wBAAQyB,KAAK,SAASD,UAAU,oBAAhC,SACE,cAAC,IAAD,CAAUE,MAAO,CAAEC,YAAa,OAElC,uBACEH,UAAU,mBACVC,KAAK,OACLG,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZhC,MAAOV,EACP2C,SAAUpC,SAML,YAAXF,EACK,oCAEM,aAAXA,EAEA,qBAAI+B,UAAU,QAAd,0BACe,sBAAMA,UAAU,gBAAhB,SAAiCpC,IADhD,6DAMW,aAAXK,EAEA,wBAAQ+B,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAatC,SAAUc,EAAvC,UACE,wBAAQyB,KAAK,SAASD,UAAU,oBAAhC,SACE,cAAC,IAAD,CAAUE,MAAO,CAAEC,YAAa,OAElC,uBACEH,UAAU,mBACVC,KAAK,OACLG,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZhC,MAAOV,EACP2C,SAAUpC,cAdpB,E,oCEvFIqC,EAAYC,SAASC,cAAc,eACNC,YCDpB,SAASC,IACtB,MAAoCjD,mBAAS,IAA7C,6BASA,OACE,qBAAKqC,UAAU,MAAf,SACE,cAAC,EAAD,MCXNa,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACH,EAAD,MAEFH,SAASO,eAAe,W","file":"static/js/main.920f6baa.chunk.js","sourcesContent":["import { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { ImSearch } from \"react-icons/im\";\nimport { fetchPictures } from \"../../Servise/picturesApi\";\n\nconst baseApi = \"https://pixabay.com/api/\";\nconst myApiKey = \"22969021-19f1494240440c9eacf690dfa\";\n\nexport default function SearchBar({ onSubmit }) {\n  const [inputValue, setInputValue] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [pictures, setPictures] = useState([]);\n  const [largeURL, setLargeURL] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState(\"idle\");\n  // const firstRender = useRef(true);\n\n  const handleValueChange = (e) => {\n    setInputValue(e.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    fetchPictures(inputValue, baseApi, myApiKey, page)\n      .then((picturesResponseArr) => {\n        // console.log(pictures);\n        if (picturesResponseArr.length === 0) {\n          return setStatus(\"rejected\");\n        }\n        getPictures(picturesResponseArr);\n        // console.log(pictures);\n      })\n      .then(setStatus(\"resolved\"))\n      .catch((e) => setStatus(\"rejected\"));\n  };\n  const getPictures = (arr) => {\n    console.log(arr);\n    const newArr = arr.map((picture) => {\n      return {\n        id: picture.id,\n        webformatURL: picture.webformatURL,\n        largeImageURL: picture.largeImageURL,\n      };\n    });\n    setPictures([...pictures, ...newArr]);\n    // this.setState({\n    //   pictures: [...this.state.pictures, ...newArr],\n    // });\n  };\n\n  // const handleSubmit = (e) => {\n  //   e.preventDefault();\n  //   if (inputValue.trim() === \"\") {\n  //     alert(\"Not so fast\");\n  //     return;\n  //   }\n  //   onSubmit(inputValue);\n  //   setInputValue(\"\");\n  // };\n  if (status === \"idle\") {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <ImSearch style={{ marginRight: 8 }} />\n          </button>\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={inputValue}\n            onChange={handleValueChange}\n          />\n        </form>\n      </header>\n    );\n  }\n  if (status === \"pending\") {\n    return <p>lol</p>;\n  }\n  if (status === \"rejected\") {\n    return (\n      <h1 className=\"title\">\n        By searching <span className=\"rejected-span\">{inputValue}</span> you\n        will not find pictures on this resource, sorry :()\n      </h1>\n    );\n  }\n  if (status === \"resolved\") {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <ImSearch style={{ marginRight: 8 }} />\n          </button>\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={inputValue}\n            onChange={handleValueChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n\n// export default class SearchBar extends Component {\n//   state = {\n//     inputValue: \"\",\n//   };\n\n//   handleValueChange = (e) => {\n//     this.setState({ inputValue: e.currentTarget.value.toLowerCase() });\n//   };\n\n//   handleSubmit = (e) => {\n//     e.preventDefault();\n//     if (this.state.inputValue.trim() === \"\") {\n//       alert(\"Not so fast\");\n//       return;\n//     }\n//     this.props.onSubmit(this.state.inputValue);\n//     this.setState({ inputValue: \"\" });\n//   };\n\n//   render() {\n//     const { handleSubmit, handleValueChange } = this;\n//     return (\n//       <header className=\"Searchbar\">\n//         <form className=\"SearchForm\" onSubmit={handleSubmit}>\n//           <button type=\"submit\" className=\"SearchForm-button\">\n//             <ImSearch style={{ marginRight: 8 }} />\n//           </button>\n\n//           <input\n//             className=\"SearchForm-input\"\n//             type=\"text\"\n//             autoComplete=\"off\"\n//             autoFocus\n//             placeholder=\"Search images and photos\"\n//             value={this.state.inputValue}\n//             onChange={handleValueChange}\n//           />\n//         </form>\n//       </header>\n//     );\n//   }\n// }\n\n// SearchBar.propTypes = {\n//   onSubmit: PropTypes.func,\n// };\n","import axios from \"axios\";\n\nexport function fetchPictures(inputValue, baseApi, myApiKey, page) {\n  return axios\n    .get(\n      `${baseApi}?q=${inputValue}&page=${page}&key=${myApiKey}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n    .then((r) => r.data.hits);\n}\n","import PropTypes from \"prop-types\";\nimport { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">{this.props.children}</div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nModal.propTypes = {\n  children: PropTypes.node,\n  onClose: PropTypes.func,\n};\n","import { useState } from \"react\";\nimport Searchbar from \"./Components/Searchbar\";\nimport ImageGallery from \"./Components/ImageGallery\";\n\nexport default function App() {\n  const [inputValue, setInputValue] = useState(\"\");\n  // const [loading, setLoading] = useState(false);\n\n  const handleFormSubmit = (newInput) => {\n    setInputValue(newInput);\n    const newInput2 = newInput;\n    return newInput2;\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar />\n      {/* <ImageGallery inputValueProps={inputValue} hm={handleFormSubmit} /> */}\n    </div>\n  );\n}\n\n// export default class App extends Component {\n//   state = {\n//     loading: false,\n//     inputValue: \"\",\n//   };\n\n//   handleFormSubmit = (inputValue) => {\n//     this.setState({ inputValue });\n//   };\n\n//   render() {\n//     return (\n//       <div className=\"App\">\n//         <Searchbar onSubmit={this.handleFormSubmit} />\n//         <ImageGallery inputValue={this.state.inputValue} />\n//       </div>\n//     );\n//   }\n// }\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}