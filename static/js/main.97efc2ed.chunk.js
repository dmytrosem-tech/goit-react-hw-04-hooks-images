(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{25:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),o=n(7),r=n.n(o),s=(n(25),n(3)),i=n(9),u=n(0);function l(e){var t=e.onSubmit,n=Object(c.useState)(""),a=Object(s.a)(n,2),o=a[0],r=a[1];return Object(u.jsx)("header",{className:"Searchbar",children:Object(u.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),r("")):alert("Not so fast")},children:[Object(u.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(u.jsx)(i.a,{style:{marginRight:8}})}),Object(u.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){r(e.currentTarget.value.toLowerCase())}})]})})}var j=n(11),b=n(20),d=n.n(b);function m(e,t){return d.a.get("".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("22969021-19f1494240440c9eacf690dfa","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))}function h(e){var t=e.onLoadMoreClick;return Object(u.jsx)("div",{className:"more",children:Object(u.jsx)("button",{type:"submit",className:"Button",onClick:t,children:"Load More"})})}function O(e){var t=e.webformatURL,n=e.onOpen,c=e.largeImageURL;return Object(u.jsx)("li",{className:"ImageGalleryItem",onClick:function(){return n(c)},children:Object(u.jsx)("img",{src:t,alt:"nice",className:"ImageGalleryItem-image"})})}function f(){return Object(u.jsx)("div",{className:"spinner",children:Object(u.jsxs)("div",{children:[Object(u.jsx)(i.b,{size:"32",className:"icon-spin"}),"Loading..."]})})}var p=document.querySelector("#modal-root");function g(e){var t=e.onClose,n=e.children;Object(c.useEffect)((function(){return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}}));var a=function(e){"Escape"===e.code&&t()};return Object(o.createPortal)(Object(u.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(u.jsx)("div",{className:"Modal",children:n})}),p)}var x="idle",v="pending",y="rejected",N="resolved";function w(e){var t=e.inputValueProps,n=Object(c.useState)(1),a=Object(s.a)(n,2),o=a[0],r=a[1],i=Object(c.useState)([]),l=Object(s.a)(i,2),b=l[0],d=l[1],p=Object(c.useState)(""),w=Object(s.a)(p,2),S=w[0],k=w[1],L=Object(c.useState)(!1),C=Object(s.a)(L,2),I=C[0],E=C[1],R=Object(c.useState)(x),M=Object(s.a)(R,2),U=M[0],B=M[1];console.log(S),Object(c.useEffect)((function(){t&&(B(v),r(1),m(t,o).then((function(e){if(0===e.length)return B(y);d(e)})).then(B(N)).catch((function(e){return B(y)})))}),[t]),Object(c.useEffect)((function(){1!==o&&(B(v),m(t,o).then((function(e){if(0===e.length)return B(y);d([].concat(Object(j.a)(b),Object(j.a)(e)))})).then(B(N)).then((function(){return window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return B(y)})))}),[o]);var F=function(){E(!I)},G=function(e){k(e),E(!0)};return U===x?Object(u.jsx)("h1",{className:"title",children:"ps... Looking for some pictures? Bro."}):U===v?Object(u.jsx)(f,{}):U===y?Object(u.jsxs)("h1",{className:"title",children:["By searching ",Object(u.jsx)("span",{className:"rejected-span",children:t})," ","you will not find pictures on this resource, sorry :()"]}):U===N?(console.log(b),Object(u.jsxs)("div",{children:[Object(u.jsx)("ul",{className:"ImageGallery",children:b.map((function(e){return Object(u.jsx)(O,{webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,onOpen:G},e.id)}))}),I&&Object(u.jsxs)(g,{onClose:F,children:[Object(u.jsx)("img",{src:S,alt:"modal-img"}),Object(u.jsx)("button",{type:"button",onClick:F,children:"Close Modal"})]}),Object(u.jsx)(h,{onLoadMoreClick:function(){r((function(e){return e+1}))}})]})):void 0}function S(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(l,{onSubmit:function(e){a(e)}}),Object(u.jsx)(w,{inputValueProps:n})]})}r.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(S,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.97efc2ed.chunk.js.map