{"version":3,"sources":["Components/Searchbar/SearchBar.js","Servise/picturesApi.js","Components/Button/Button.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Loader/Loader.js","Components/Modal/Modal.js","Components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["SearchBar","onSubmit","useState","inputValue","setInputValue","className","e","preventDefault","trim","alert","type","style","marginRight","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","fetchPictures","page","axios","get","then","r","data","hits","Button","onLoadMoreClick","onClick","ImageGalleryItem","webformatURL","onOpen","largeImageURL","src","alt","Loader","size","modalRoot","document","querySelector","Modal","onClose","children","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","target","Status","ImageGallery","inputValueProps","setPage","pictures","setPictures","largeURL","setLargeURL","showModal","setShowModal","status","setStatus","console","log","picturesResponseArr","length","catch","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","takeModalPicture","url","map","picture","id","prevPage","App","newInput","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.97efc2ed.chunk.js","sourcesContent":["import { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { ImSearch } from \"react-icons/im\";\n\nexport default function SearchBar({ onSubmit }) {\n  const [inputValue, setInputValue] = useState(\"\");\n\n  const handleValueChange = (e) => {\n    setInputValue(e.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (inputValue.trim() === \"\") {\n      alert(\"Not so fast\");\n      return;\n    }\n    onSubmit(inputValue);\n    setInputValue(\"\");\n  };\n\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={handleSubmit}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <ImSearch style={{ marginRight: 8 }} />\n        </button>\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={inputValue}\n          onChange={handleValueChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","import axios from \"axios\";\n\nconst baseApi = \"https://pixabay.com/api/\";\nconst myApiKey = \"22969021-19f1494240440c9eacf690dfa\";\n\nexport function fetchPictures(inputValue, page) {\n  return axios\n    .get(\n      `${baseApi}?q=${inputValue}&page=${page}&key=${myApiKey}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n    .then((r) => r.data.hits);\n}\n","import PropTypes from \"prop-types\";\r\nexport default function Button({ onLoadMoreClick }) {\r\n  return (\r\n    <div className=\"more\">\r\n      <button type=\"submit\" className=\"Button\" onClick={onLoadMoreClick}>\r\n        Load More\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onLoadMoreClick: PropTypes.func,\r\n};\r\n","import PropTypes from \"prop-types\";\r\nexport default function ImageGalleryItem({\r\n  webformatURL,\r\n  onOpen,\r\n  largeImageURL,\r\n}) {\r\n  return (\r\n    <li className=\"ImageGalleryItem\" onClick={() => onOpen(largeImageURL)}>\r\n      <img src={webformatURL} alt=\"nice\" className=\"ImageGalleryItem-image\" />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string,\r\n  onOpen: PropTypes.func,\r\n  largeImageURL: PropTypes.string,\r\n};\r\n","import { ImSpinner } from \"react-icons/im\";\r\n\r\nexport default function Loader() {\r\n  return (\r\n    <div className=\"spinner\">\r\n      <div>\r\n        <ImSpinner size=\"32\" className=\"icon-spin\" />\r\n        Loading...\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import PropTypes from \"prop-types\";\nimport { Component, useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default function Modal({ onClose, children }) {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      onClose();\n    }\n  };\n\n  const handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className=\"Overlay\" onClick={handleBackdropClick}>\n      <div className=\"Modal\">{children}</div>\n    </div>,\n    modalRoot\n  );\n}\n\nModal.propTypes = {\n  children: PropTypes.node,\n  onClose: PropTypes.func,\n};\n","import { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { fetchPictures } from \"../../Servise/picturesApi\";\nimport Button from \"../Button/Button\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport Loader from \"../Loader/Loader\";\nimport Modal from \"../Modal/Modal\";\n\nconst Status = {\n  IDLE: \"idle\",\n  PENDING: \"pending\",\n  REJECTED: \"rejected\",\n  RESOLVED: \"resolved\",\n};\n\nexport default function ImageGallery({ inputValueProps }) {\n  const [page, setPage] = useState(1);\n  const [pictures, setPictures] = useState([]);\n  const [largeURL, setLargeURL] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const [status, setStatus] = useState(Status.IDLE);\n  console.log(largeURL);\n\n  useEffect(() => {\n    if (!inputValueProps) {\n      return;\n    }\n    setStatus(Status.PENDING);\n    setPage(1);\n    fetchPictures(inputValueProps, page)\n      .then((picturesResponseArr) => {\n        if (picturesResponseArr.length === 0) {\n          return setStatus(Status.REJECTED);\n        }\n        setPictures(picturesResponseArr);\n      })\n      .then(setStatus(Status.RESOLVED))\n      .catch((e) => setStatus(Status.REJECTED));\n  }, [inputValueProps]);\n\n  useEffect(() => {\n    if (page === 1) {\n      return;\n    }\n    setStatus(Status.PENDING);\n    fetchPictures(inputValueProps, page)\n      .then((picturesResponseArr) => {\n        if (picturesResponseArr.length === 0) {\n          return setStatus(Status.REJECTED);\n        }\n        setPictures([...pictures, ...picturesResponseArr]);\n      })\n      .then(setStatus(Status.RESOLVED))\n      .then(() =>\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        })\n      )\n      .catch((e) => setStatus(Status.REJECTED));\n  }, [page]);\n\n  const onLoadMoreClick = () => {\n    setPage((prevPage) => prevPage + 1);\n  };\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const takeModalPicture = (url) => {\n    setLargeURL(url);\n    setShowModal(true);\n  };\n\n  if (status === Status.IDLE) {\n    return <h1 className=\"title\">ps... Looking for some pictures? Bro.</h1>;\n  }\n  if (status === Status.PENDING) {\n    return <Loader />;\n  }\n  if (status === Status.REJECTED) {\n    return (\n      <h1 className=\"title\">\n        By searching <span className=\"rejected-span\">{inputValueProps}</span>{\" \"}\n        you will not find pictures on this resource, sorry :()\n      </h1>\n    );\n  }\n  if (status === Status.RESOLVED) {\n    console.log(pictures);\n    return (\n      <div>\n        <ul className=\"ImageGallery\">\n          {pictures.map((picture) => (\n            <ImageGalleryItem\n              key={picture.id}\n              webformatURL={picture.webformatURL}\n              largeImageURL={picture.largeImageURL}\n              onOpen={takeModalPicture}\n            />\n          ))}\n        </ul>\n        {showModal && (\n          <Modal onClose={toggleModal}>\n            <img src={largeURL} alt=\"modal-img\" />\n            <button type=\"button\" onClick={toggleModal}>\n              Close Modal\n            </button>\n          </Modal>\n        )}\n        <Button onLoadMoreClick={onLoadMoreClick} />\n      </div>\n    );\n  }\n}\n\nImageGallery.propTypes = {\n  inputValueProps: PropTypes.string,\n};\n","import { useState } from \"react\";\nimport Searchbar from \"./Components/Searchbar\";\nimport ImageGallery from \"./Components/ImageGallery\";\n\nexport default function App() {\n  const [inputValue, setInputValue] = useState(\"\");\n  // const [loading, setLoading] = useState(false);\n\n  const handleFormSubmit = (newInput) => {\n    setInputValue(newInput);\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={handleFormSubmit} />\n      <ImageGallery inputValueProps={inputValue} />\n    </div>\n  );\n}\n\n// export default class App extends Component {\n//   state = {\n//     loading: false,\n//     inputValue: \"\",\n//   };\n\n//   handleFormSubmit = (inputValue) => {\n//     this.setState({ inputValue });\n//   };\n\n//   render() {\n//     return (\n//       <div className=\"App\">\n//         <Searchbar onSubmit={this.handleFormSubmit} />\n//         <ImageGallery inputValue={this.state.inputValue} />\n//       </div>\n//     );\n//   }\n// }\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}