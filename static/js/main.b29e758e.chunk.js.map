{"version":3,"sources":["Components/Searchbar/SearchBar.js","Servise/picturesApi.js","Components/Button/Button.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Loader/Loader.js","Components/Modal/Modal.js","Components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["SearchBar","onSubmit","useState","inputValue","setInputValue","className","e","preventDefault","trim","alert","type","style","marginRight","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","fetchPictures","page","axios","get","then","r","data","hits","Button","onLoadMoreClick","onClick","ImageGalleryItem","webformatURL","onOpen","largeImageURL","src","alt","Loader","size","modalRoot","document","querySelector","Modal","onClose","children","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","target","Status","ImageGallery","inputValueProps","setPage","newPage","pictures","setPictures","largeURL","setLargeURL","showModal","setShowModal","status","setStatus","console","log","picturesResponseArr","length","catch","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","takeModalPicture","url","map","picture","id","prevPage","App","newInput","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b29e758e.chunk.js","sourcesContent":["import { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { ImSearch } from \"react-icons/im\";\n\nexport default function SearchBar({ onSubmit }) {\n  const [inputValue, setInputValue] = useState(\"\");\n\n  const handleValueChange = (e) => {\n    setInputValue(e.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (inputValue.trim() === \"\") {\n      alert(\"Not so fast\");\n      return;\n    }\n    onSubmit(inputValue);\n\n    setInputValue(\"\");\n  };\n\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={handleSubmit}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <ImSearch style={{ marginRight: 8 }} />\n        </button>\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={inputValue}\n          onChange={handleValueChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","import axios from \"axios\";\r\n\r\nconst baseApi = \"https://pixabay.com/api/\";\r\nconst myApiKey = \"22969021-19f1494240440c9eacf690dfa\";\r\n\r\nexport function fetchPictures(inputValue, page) {\r\n  return axios\r\n    .get(\r\n      `${baseApi}?q=${inputValue}&page=${page}&key=${myApiKey}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then((r) => r.data.hits);\r\n}\r\n","import PropTypes from \"prop-types\";\nexport default function Button({ onLoadMoreClick }) {\n  return (\n    <div className=\"more\">\n      <button type=\"submit\" className=\"Button\" onClick={onLoadMoreClick}>\n        Load More\n      </button>\n    </div>\n  );\n}\n\nButton.propTypes = {\n  onLoadMoreClick: PropTypes.func,\n};\n","import PropTypes from \"prop-types\";\nexport default function ImageGalleryItem({\n  webformatURL,\n  onOpen,\n  largeImageURL,\n}) {\n  return (\n    <li className=\"ImageGalleryItem\" onClick={() => onOpen(largeImageURL)}>\n      <img src={webformatURL} alt=\"nice\" className=\"ImageGalleryItem-image\" />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string,\n  onOpen: PropTypes.func,\n  largeImageURL: PropTypes.string,\n};\n","import { ImSpinner } from \"react-icons/im\";\n\nexport default function Loader() {\n  return (\n    <div className=\"spinner\">\n      <div>\n        <ImSpinner size=\"32\" className=\"icon-spin\" />\n        Loading...\n      </div>\n    </div>\n  );\n}\n","import PropTypes from \"prop-types\";\r\nimport { Component, useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default function Modal({ onClose, children }) {\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleKeyDown);\r\n    };\r\n  });\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className=\"Overlay\" onClick={handleBackdropClick}>\r\n      <div className=\"Modal\">{children}</div>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  children: PropTypes.node,\r\n  onClose: PropTypes.func,\r\n};\r\n","import { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { fetchPictures } from \"../../Servise/picturesApi\";\nimport Button from \"../Button/Button\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport Loader from \"../Loader/Loader\";\nimport Modal from \"../Modal/Modal\";\n\nconst Status = {\n  IDLE: \"idle\",\n  PENDING: \"pending\",\n  REJECTED: \"rejected\",\n  RESOLVED: \"resolved\",\n};\n\nexport default function ImageGallery({ inputValueProps }) {\n  const [page, setPage] = useState(1);\n  const [newPage] = useState(1);\n  const [pictures, setPictures] = useState([]);\n  const [largeURL, setLargeURL] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const [status, setStatus] = useState(Status.IDLE);\n  console.log(largeURL);\n  console.log(newPage);\n  useEffect(() => {\n    if (!inputValueProps) {\n      return;\n    }\n    setStatus(Status.PENDING);\n    setPage(1);\n    fetchPictures(inputValueProps, newPage)\n      .then((picturesResponseArr) => {\n        if (picturesResponseArr.length === 0) {\n          return setStatus(Status.REJECTED);\n        }\n        setPictures(picturesResponseArr);\n      })\n\n      .then(setStatus(Status.RESOLVED))\n      .catch((e) => setStatus(Status.REJECTED));\n  }, [inputValueProps]);\n\n  useEffect(() => {\n    if (page === 1) {\n      return;\n    }\n    setStatus(Status.PENDING);\n    fetchPictures(inputValueProps, page)\n      .then((picturesResponseArr) => {\n        if (picturesResponseArr.length === 0) {\n          return setStatus(Status.REJECTED);\n        }\n        setPictures([...pictures, ...picturesResponseArr]);\n      })\n      .then(setStatus(Status.RESOLVED))\n      .then(() =>\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        })\n      )\n      .catch((e) => setStatus(Status.REJECTED));\n  }, [page]);\n\n  const onLoadMoreClick = () => {\n    setPage((prevPage) => prevPage + 1);\n  };\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const takeModalPicture = (url) => {\n    setLargeURL(url);\n    setShowModal(true);\n  };\n\n  if (status === Status.IDLE) {\n    return <h1 className=\"title\">ps... Looking for some pictures? Bro.</h1>;\n  }\n  if (status === Status.PENDING) {\n    return <Loader />;\n  }\n  if (status === Status.REJECTED) {\n    return (\n      <h1 className=\"title\">\n        By searching <span className=\"rejected-span\">{inputValueProps}</span>{\" \"}\n        you will not find pictures on this resource, sorry :()\n      </h1>\n    );\n  }\n  if (status === Status.RESOLVED) {\n    console.log(pictures);\n    return (\n      <div>\n        <ul className=\"ImageGallery\">\n          {pictures.map((picture) => (\n            <ImageGalleryItem\n              key={picture.id}\n              webformatURL={picture.webformatURL}\n              largeImageURL={picture.largeImageURL}\n              onOpen={takeModalPicture}\n            />\n          ))}\n        </ul>\n        {showModal && (\n          <Modal onClose={toggleModal}>\n            <img src={largeURL} alt=\"modal-img\" />\n            <button type=\"button\" onClick={toggleModal}>\n              Close Modal\n            </button>\n          </Modal>\n        )}\n        <Button onLoadMoreClick={onLoadMoreClick} />\n      </div>\n    );\n  }\n}\n\nImageGallery.propTypes = {\n  inputValueProps: PropTypes.string,\n};\n","import { useState } from \"react\";\nimport Searchbar from \"./Components/Searchbar\";\nimport ImageGallery from \"./Components/ImageGallery\";\n\nexport default function App() {\n  const [inputValue, setInputValue] = useState(\"\");\n\n  // const [loading, setLoading] = useState(false);\n\n  const handleFormSubmit = (newInput) => {\n    setInputValue(newInput);\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={handleFormSubmit} />\n      <ImageGallery inputValueProps={inputValue} />\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}