(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{25:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),o=n(7),r=n.n(o),s=(n(25),n(3)),i=n(9),l=n(0);function u(e){var t=e.onSubmit,n=Object(c.useState)(""),a=Object(s.a)(n,2),o=a[0],r=a[1];return Object(l.jsx)("header",{className:"Searchbar",children:Object(l.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),r("")):alert("Not so fast")},children:[Object(l.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(l.jsx)(i.a,{style:{marginRight:8}})}),Object(l.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){r(e.currentTarget.value.toLowerCase())}})]})})}var j=n(11),b=n(20),d=n.n(b);function m(e,t){return d.a.get("".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("22969021-19f1494240440c9eacf690dfa","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))}function h(e){var t=e.onLoadMoreClick;return Object(l.jsx)("div",{className:"more",children:Object(l.jsx)("button",{type:"submit",className:"Button",onClick:t,children:"Load More"})})}function O(e){var t=e.webformatURL,n=e.onOpen,c=e.largeImageURL;return Object(l.jsx)("li",{className:"ImageGalleryItem",onClick:function(){return n(c)},children:Object(l.jsx)("img",{src:t,alt:"nice",className:"ImageGalleryItem-image"})})}function f(){return Object(l.jsx)("div",{className:"spinner",children:Object(l.jsxs)("div",{children:[Object(l.jsx)(i.b,{size:"32",className:"icon-spin"}),"Loading..."]})})}var p=document.querySelector("#modal-root");function g(e){var t=e.onClose,n=e.children;Object(c.useEffect)((function(){return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}}));var a=function(e){"Escape"===e.code&&t()};return Object(o.createPortal)(Object(l.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(l.jsx)("div",{className:"Modal",children:n})}),p)}var x="idle",v="pending",y="rejected",N="resolved";function S(e){var t=e.inputValueProps,n=Object(c.useState)(1),a=Object(s.a)(n,2),o=a[0],r=a[1],i=Object(c.useState)(1),u=Object(s.a)(i,1)[0],b=Object(c.useState)([]),d=Object(s.a)(b,2),p=d[0],S=d[1],w=Object(c.useState)(""),k=Object(s.a)(w,2),L=k[0],C=k[1],I=Object(c.useState)(!1),E=Object(s.a)(I,2),R=E[0],M=E[1],U=Object(c.useState)(x),B=Object(s.a)(U,2),F=B[0],G=B[1];console.log(L),console.log(u),Object(c.useEffect)((function(){t&&(G(v),r(1),m(t,u).then((function(e){if(0===e.length)return G(y);S(e)})).then(G(N)).catch((function(e){return G(y)})))}),[t]),Object(c.useEffect)((function(){1!==o&&(G(v),m(t,o).then((function(e){if(0===e.length)return G(y);S([].concat(Object(j.a)(p),Object(j.a)(e)))})).then(G(N)).then((function(){return window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return G(y)})))}),[o]);var P=function(){M(!R)},T=function(e){C(e),M(!0)};return F===x?Object(l.jsx)("h1",{className:"title",children:"ps... Looking for some pictures? Bro."}):F===v?Object(l.jsx)(f,{}):F===y?Object(l.jsxs)("h1",{className:"title",children:["By searching ",Object(l.jsx)("span",{className:"rejected-span",children:t})," ","you will not find pictures on this resource, sorry :()"]}):F===N?(console.log(p),Object(l.jsxs)("div",{children:[Object(l.jsx)("ul",{className:"ImageGallery",children:p.map((function(e){return Object(l.jsx)(O,{webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,onOpen:T},e.id)}))}),R&&Object(l.jsxs)(g,{onClose:P,children:[Object(l.jsx)("img",{src:L,alt:"modal-img"}),Object(l.jsx)("button",{type:"button",onClick:P,children:"Close Modal"})]}),Object(l.jsx)(h,{onLoadMoreClick:function(){r((function(e){return e+1}))}})]})):void 0}function w(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(u,{onSubmit:function(e){a(e)}}),Object(l.jsx)(S,{inputValueProps:n})]})}r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(w,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.b29e758e.chunk.js.map